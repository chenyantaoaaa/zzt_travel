<!DOCTYPE html>
<!--suppress ALL -->
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    

    <title>TaoShao's Home</title>


    
    
    <!-- Bootstrap Core CSS -->
    <link href="../../css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../../css/landing-page.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="../../css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">

    <link rel="icon" href="../../img/me.png">
    <link rel="shortcut icon" href="../../img/me.png">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
	<style>
		.weather{ float: left; list-style: none; margin-left:8px;}
		.btn {  font-family: 微软雅黑}
		.section-heading { font-family:"微软雅黑"; font-style:italic;}
		.lead { font-family:"微软雅黑";}
        .modal.fade  {
            text-align: center;
            left: 13%;
            top: 13%;
        }
        #logoutTag{
            width: 50px; height: 30px; position: absolute; right: 45px;top: 10px;display: none;
        }
	</style>
</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top topnav" role="navigation">
        <div class="container topnav">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand topnav" href="#">TaoShao's Home</a>
                    <ul class="navbar-brand topnav">
                        <li class="weather">
                        	<div id='cityName'></div>
                        </li>
                        <li class="weather">
                        	<div id='overview'></div>
                        </li>
                        <li class="weather">
                        	<div id='temper'></div>
                        </li>
                        <li class="weather">
                        	<div id='wind'></div>
                        </li>
                    </ul>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a id="commentIn">评论墙</a>
                    </li>
                    <li>
                        <a href="#services">Services</a>
                    </li>
                    <li>
                        <a href="#contact" id="contact" data-container="body"  data-toggle="popover" data-placement="bottom">联系</a>
                    </li>
                    <li>
                        <a id="loginTag" data-toggle="modal" data-target="#myModal" onmouseover="poplogout()">登陆</a>
                    </li>
                    <!--<li>-->
                        <!--<a id="logoutTag" style="float: right">注销</a>-->
                    <!--</li>-->
                </ul>
                <div><button id="logoutTag">注销</button></div>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>


    <!-- 模态框（Modal） -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content" style="width:450px; text-align: center">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h3 class="modal-title" id="myModalLabel" align="center">
                        <p style="color: black; font-family: 微软雅黑">登陆</p>
                    </h3>
                </div>
                <div class="modal-body">
                    <form id="addForm" class="bs-example bs-example-form" role="form" enctype="multipart/form-data">
                        <div class="input-group" style="display: inline-table; margin-top: 10px;">
                            <span class="input-group-addon">用户名</span>
                            <input type="text" id="username" name="username" class="form-control" placeholder="">
                        </div>
                        <div class="input-group" style="display: inline-table; margin-top: 10px;">
                            <span class="input-group-addon" style="width: 70px">密码</span>
                            <input type="text" id="password" name="password" class="form-control" placeholder="" style="width: 350px">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭
                    </button>
                    <button type="button" class="btn btn-primary" onclick="login()">
                        提交
                    </button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </div>


    <!-- Header -->
    <a name="about"></a>
    <div class="intro-header">
        <div class="container">

            <div class="row">
                <div class="col-lg-12">
                    <div class="intro-message">
                        <h1>TaoShao's Home</h1>
                        <h3 style="font-family: '微软雅黑';">陈延韬的个人网站</h3>
                        <hr class="intro-divider">
                        <ul class="list-inline intro-social-buttons">
                            <li>
                                <a href="http://blog.csdn.net/u014688419"  target="_blank" class="btn btn-default btn-lg"><img src="../../img/csdn.png"/>CSDN</a>
                            </li>
                            <li>
                                <a href="http://music.163.com/#/m/playlist?id=149703609&userid=120582796" target="_blank" class="btn btn-default btn-lg"><img src="../../img/wangyi.png">网易云音乐</a>
                            </li>
                            <li>
                                <a target="_blank" class="btn btn-default btn-lg" id="meme" data-container="body"  data-toggle="popover" data-placement="right"><img src="../../img/me.png"></i> ME</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            

        </div>
        <!-- /.container -->

    </div>
    <!-- /.intro-header -->

    <!-- Page Content -->

	<a  name="services"></a>
    <div class="content-section-a">

        <div class="container">
            <div class="row">
                <div class="col-lg-5 col-sm-6">
                    <hr class="section-heading-spacer">
                    <div class="clearfix"></div>
                    <h2 class="section-heading">唯 爱 吉 他<br>旋律在心中流淌</h2>
                    <img src="../../img/arrow_881.gif" style="margin-left: 90px">
                    <p class="lead">多少次曾因生活的无奈想去流浪，多少次曾在这不眠的夜里，<a id="guitaIn">拿起那把老吉他</a> ，轻轻的哼唱那，难忘的歌谣.</p>
                </div>
                <div class="col-lg-4 col-lg-offset-2 col-sm-6">
                    <img class="img-responsive" src="../../img/guita/mashushu.jpg" alt="">
                </div>
            </div>

        </div>
        <!-- /.container -->

    </div>
    <!-- /.content-section-a -->

    <div class="content-section-b">

        <div class="container">

            <div class="row">
                <div class="col-lg-5 col-lg-offset-1 col-sm-push-6  col-sm-6">
                    <hr class="section-heading-spacer">
                    <div class="clearfix"></div>
                    <h2 class="section-heading">聆 听 歌 曲<br>享受那时而轻跃时而宁静的节奏</h2>
                    <img src="../../img/arrow_881.gif" style="margin-left: 270px">
                    <p class="lead">在我地盘这，你就得听我的。<a id="musicIn">把音乐收割</a>，用听觉找快乐。开始在雕刻，我个人的特色。未来难预测坚持当下的选择。 </p>
                </div>
                <div class="col-lg-4 col-sm-pull-6  col-sm-6">
                    <img class="img-responsive" src="../../img/music/qilixiang.jpg" alt="">
                </div>
            </div>

        </div>
        <!-- /.container -->

    </div>
    <!-- /.content-section-b -->

    <div class="content-section-a">

        <div class="container">

            <div class="row">
                <div class="col-lg-5 col-sm-6">
                    <hr class="section-heading-spacer">
                    <div class="clearfix"></div>
                    <h2 class="section-heading">fiction&movie<br>我爱的电影小说推荐</h2>
                    <img src="../../img/arrow_881.gif" style="margin-left: 340px">
                    <p class="lead">每部小说每部电影仿佛都带自己走入了<a id="recommondIn">另一个世界</a>去体会主角的喜怒哀乐和社会的形形色色</p>
                </div>
                <div class="col-lg-5 col-lg-offset-2 col-sm-6">
                    <img class="img-responsive" src="../../img/snow.JPG" alt="">
                </div>
            </div>

        </div>
        <!-- /.container -->

    </div>
    <!-- /.content-section-a -->

	<a  name="contact"></a>
    <div class="banner">

        <div class="container">

            <div class="row">
                <div class="col-lg-6">
                    <h2>真正的才智是刚毅的志向。 —— 拿破仑</h2>
                </div>
                <div class="col-lg-6">
                    <!--<h3>我只是想在有生之年多做点有意义的事情而已</h3>-->
                </div>
            </div>

        </div>
        <!-- /.container -->

    </div>
    <!-- /.banner -->

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <ul class="list-inline">
                        <li>
                            <a href="#">Home</a>
                        </li>
                        <li class="footer-menu-divider">&sdot;</li>
                        <li>
                            <a href="#about">About</a>
                        </li>
                        <li class="footer-menu-divider">&sdot;</li>
                        <li>
                            <a href="#services">Services</a>
                        </li>
                        <li class="footer-menu-divider">&sdot;</li>
                        <li>
                            <a href="#contact">Contact</a>
                        </li>
                    </ul>
                    <p class="copyright text-muted small">Copyright &copy; TaoShao 2016. All Rights Reserved</p>
                </div>
            </div>
        </div>
    </footer>
    <div><button id="test">session</button></div>
    <!-- jQuery -->
    <script src="../../js/jquery-1.9.1.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../../js/bootstrap.min.js"></script>

    <!-- common -->
    <script src="../../js/common.js"></script>

    <!-- config -->
    <script src="../../js/config.js"></script>
    <script type="text/javascript" src="http://webapi.amap.com/maps?v=1.3&key=ea5ac4662ea05811c470d70ce5639d3b"></script>
	<script>
     $("#test").click(function(){
     })


     function poplogout(){
         if($("#loginTag").html()=="登陆"){
             $("#logoutTag").css("display","none");
         }else{
             $("#logoutTag").css("display","block");
         }
     }

     $("#loginTag").mouseleave(function (){
         $("#logoutTag").css("display", "none");
     })

     $("#logoutTag").mouseenter(function (){
             $("#logoutTag").css("display", "block");
     })

     $("#logoutTag").mouseleave(function (){
         $("#logoutTag").css("display", "none");
     })

     $("#logoutTag").click(function () {
         if(confirm("确认注销？")){
             $.ajax({
                 type: "post",
                 url: urlConfig+"user/logout.action",
//             data:JSON.stringify({"username":$("#username").val(),"password":$("#password").val()}),
                 contentType:'application/json;charset=utf-8',
                 success: function(data) {
                     if(data="success"){
                         $("#loginTag").html("登陆");
                     }
                 }
             })
         }else{
             return false;
         }

     })


     function shutModal(){
        $("#myModal" ).modal("hide");
     }

	$('#meme').popover({
	        trigger : 'click',
	        html:true,
	        content:"<img src='../../img/meme/meme2.JPG'>"
  	});
  	
  	$('#contact').popover({
	        trigger : 'hover',
	        html:true,
	        content:"<B>Tel:13581777079</B>"
  	});

     function getCurrentCity(){
         mapObj = new AMap.Map('iCenter');
         //加载IP定位插件
         mapObj.plugin(["AMap.CitySearch"], function() {
             //实例化城市查询类
             var citysearch = new AMap.CitySearch();
             //自动获取用户IP，返回当前城市
             citysearch.getLocalCity();
             AMap.event.addListener(citysearch, "complete", function(result){
                 if(result && result.city && result.bounds) {
                     var cityinfo = result.city;
                     $("#cityName").html(cityinfo);
                     getCurrentWeather();
                 }
                 else {
//                    document.getElementById('result').innerHTML = "您当前所在城市："+result.info+"";
                 }
             });
//            AMap.event.addListener(citysearch, "error", function(result){alert(result.info);});
         });
     };
  	
  	function getCurrentWeather(){
          $.ajax({
              type: "post",
              url: urlConfig+"home/weather.action",
              data:JSON.stringify({"cityname":$("#cityName").html()}), 
              contentType:'application/json;charset=utf-8',
              success: function(data) {

               $("#overview").html(data.overview);
               $("#temper").html(data.temperature);
               $("#wind").html(data.wind);
             }
         });
  	};
     
     //页面加载获取当前所在城市信息
  	$(document).ready(function(){
        //获取当前用户所在城市
         getCurrentCity();
        //判断当前用户权限
        judgeAuthority();
  	});

    function login(){
        var username=$("#username").val();
        $.ajax({
            type: "post",
            url: urlConfig+"user/login.action",
            data:JSON.stringify({"username":$("#username").val(),"password":$("#password").val()}),
            contentType:'application/json;charset=utf-8',
            success: function(data) {
                if(data=="success"){
                    $("#loginTag").html($("#username").val());
                    $(".modal-footer").prepend("<span id='successNoti' style='float: left; padding-left: 20px'>登陆成功</span>");
                    setTimeout("shutModal()",1000);
//                    document.cookie="username="+username;
                    setTimeout("$('#successNoti').remove()",1000);
                }else if(data=="fail"){
                    $(".modal-footer").prepend("<span id='failNoti' style='float: left; padding-left: 20px'>登陆失败，用户名或密码错误</span>");
                    setTimeout("$('#failNoti').remove()",3000);
                }
            }
        })
    }

     function judgeAuthority(){
         $.ajax({
             type: "post",
             url: urlConfig+"user/session.action",
             contentType: 'application/json;charset=utf-8',
             success: function (data) {
                 for(var i=0;i<data.roleList.length;i++){
                     if(data.roleList[i]=="admin"){
                         $(".admin").css("display","block");
                     }
                 }
                 if(data.userName!=null){
                     $("#loginTag").html(data.userName);
                 }
             }
         })
     }

     //       href="http://localhost:8080/screens/recommoned/recomMain.html"
     GuitaUrl=urlConfig+"screens/Guita/GuitaMain.html";
     $("#guitaIn").attr("href",GuitaUrl);

     CommentUrl=urlConfig+"screens/comment/comment.html";
     $("#commentIn").attr("href",CommentUrl);

     MusicUrl=urlConfig+"screens/music/music.html";
     $("#musicIn").attr("href",MusicUrl);

     RecommondUrl=urlConfig+"screens/recommoned/recomMain.html";
     $("#recommondIn").attr("href",RecommondUrl);
	</script>
</body>

</html>
